{"meta":{"title":"MainGuo's Blog","subtitle":null,"description":null,"author":null,"url":"https://mainguo.coding.me/blog"},"pages":[],"posts":[{"title":"PHP转换gb2312编码xml为数组对象","slug":"PHP转换gb2312编码xml为数组对象","date":"2018-09-02T15:24:04.000Z","updated":"2018-09-02T15:33:56.112Z","comments":true,"path":"2018/09/02/PHP转换gb2312编码xml为数组对象/","link":"","permalink":"https://mainguo.coding.me/blog/2018/09/02/PHP转换gb2312编码xml为数组对象/","excerpt":"","text":"&emsp;&emsp;调用中间件接口的返回值是一个xml字符串，其中 charset=”GB2312”，但奇怪的是我使用 mb_detect_encoding() 函数来判断这个xml字符串，得到的结果却是 UTF-8。但由于 xml 中 charset 的值为 GB2312，所以导致了 simplexml_load_string() 函数无法成功解析这个xml字符串。 其实解决这个错误非常简单,使用 str_replace 函数将xml字符串中的编码格式替换为 UTF-8 后再使用json编码解码后就可以得到干净的数组元素。 1234$xml= str_replace(&apos;GB2312&apos;,&apos;UTF-8&apos;,$xml);$xml= simplexml_load_string($xml);$xml= json_encode($xml);//将对象转换个JSON$xml=json_decode($xml,JSON_UNESCAPED_UNICODE);//将json转换成数组","categories":[{"name":"后端","slug":"后端","permalink":"https://mainguo.coding.me/blog/categories/后端/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://mainguo.coding.me/blog/tags/PHP/"},{"name":"xml转array","slug":"xml转array","permalink":"https://mainguo.coding.me/blog/tags/xml转array/"}]},{"title":"I wanna change something...","slug":"I wanna change something...","date":"2018-09-02T14:49:05.000Z","updated":"2018-09-02T15:02:35.008Z","comments":true,"path":"2018/09/02/I wanna change something.../","link":"","permalink":"https://mainguo.coding.me/blog/2018/09/02/I wanna change something.../","excerpt":"","text":"&emsp;&emsp;正是大四开学初的时间，最近正在忙活着学校申请校外实习和专业实习的材料。我一向最烦这些七七八八的文档，以我们院校的效率怕是一个月都出不去的。由此也我明白我并不喜欢公务员那种一成不变的生活，既没有挑战，也没有激情。。 &emsp;&emsp;电话询问了附近的一家健身房，本想办张卡继续健身的。一听到1299的价格就望而生畏了，果断入手一辆自己的动感单车。真的200斤了QAQ &emsp;&emsp;刚刚回到金城湾那里，前些日子因为电费的问题想换个地方，在桥头附近租了一间1000的，总之折腾了几趟后还是回到了金城湾。我发现房子里的味道和采光还有装修真的特别重要，即使房间大一点，如果这些条件不能真的让你舒心的话，还是趁早搬了吧。","categories":[{"name":"日记","slug":"日记","permalink":"https://mainguo.coding.me/blog/categories/日记/"}],"tags":[{"name":"心绪","slug":"心绪","permalink":"https://mainguo.coding.me/blog/tags/心绪/"},{"name":"碎碎念","slug":"碎碎念","permalink":"https://mainguo.coding.me/blog/tags/碎碎念/"}]},{"title":"第一个php项目","slug":"忙","date":"2018-05-15T10:32:18.000Z","updated":"2018-09-02T15:06:27.383Z","comments":true,"path":"2018/05/15/忙/","link":"","permalink":"https://mainguo.coding.me/blog/2018/05/15/忙/","excerpt":"","text":"&emsp;&emsp;手上接了老师的一个使用ThinkCMF框架实现的创业项目。暂且就叫它跑趣吧，周六周日在工作室呆着做自己的事情，课程要求的作业与任务，最近在接触Git、Vue、Android的有关技术。坦言我并不是非常认真，在不断学习过程中我遇到的一些问题我都是选择性的学习，我不知道要学到什么程度为止。&emsp;&emsp;进来借着“忙”的接口，已经几个月没去健身了。这不是一个好习惯。&emsp;&emsp;今晚就去，7点。","categories":[{"name":"日记","slug":"日记","permalink":"https://mainguo.coding.me/blog/categories/日记/"}],"tags":[{"name":"碎碎念","slug":"碎碎念","permalink":"https://mainguo.coding.me/blog/tags/碎碎念/"}]}]}