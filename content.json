{"meta":{"title":"MainGuo's Blog","subtitle":null,"description":null,"author":null,"url":"https://mainguo.coding.me/blog"},"pages":[],"posts":[{"title":"vultr主机搭建ssr","slug":"vultr主机搭建ssr","date":"2018-09-18T03:08:05.000Z","updated":"2018-09-20T02:23:45.194Z","comments":true,"path":"2018/09/18/vultr主机搭建ssr/","link":"","permalink":"https://mainguo.coding.me/blog/2018/09/18/vultr主机搭建ssr/","excerpt":"1.vultr机房测速&emsp;&emsp;可以去网上搜索一下vultr官方给的测速点，有很多.sh的ping测速脚本，选一个延迟低的机房位置。不过一般延迟以东京机房最低，但我选择了洛杉矶机房，听说是掉包率低，相对稳定一些，且延迟比起东京机房也不差多少。 2.氪金&emsp;&emsp;vultr用paypal充值5刀送25刀","text":"1.vultr机房测速&emsp;&emsp;可以去网上搜索一下vultr官方给的测速点，有很多.sh的ping测速脚本，选一个延迟低的机房位置。不过一般延迟以东京机房最低，但我选择了洛杉矶机房，听说是掉包率低，相对稳定一些，且延迟比起东京机房也不差多少。 2.氪金&emsp;&emsp;vultr用paypal充值5刀送25刀 3.选机房购买服务器&emsp;&emsp;机房位置我选择了洛杉矶，系统选centos6（听吧友说centos7的防火墙会影响ssr的正常连接，需要自己去配置巴拉巴拉巴拉的），选$5的，第一个是只能使用ipv6的，且每个月只有500GB（下载上传流量哪个多就算哪个）因为ipv6尚未成熟的关系，我就选择不用它了，勾选启用ipv6（蛮选的），后面就无关紧要了，你随意就好 4.检查一下你的ip是否被河蟹&emsp;&emsp;点我直接去扫描你的ip端口，如果你的22端口是开启状态，或者说能使用ssh服务的话，基本上你的ip是没问题的。&emsp;&emsp;点我侧ping，不是红色的超时就说明你的ip是可以被ping通的&emsp;&emsp;以上两步都检测都通过，则ip可用&emsp;&emsp;不过世上不如意之事十之八九，有很多ip是被墙的，大部分情况是能ping通、但22端口关闭，无法使用ssh服务。这个时候等待五分钟，然后删除主机，重新deploy one…PS: 这里注意，如果你destroy后重新选择了同样的地方，马上部署后会发现你的IP没有改变，依旧是不可用的。这个时候换个地方… 操作灵活一点~ 另外之所以等待五分钟是因为vultr部署后至少要等待5分钟后才能删除。 5.部署ssr服务1wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/ssr.sh &amp;&amp; chmod +x ssr.sh &amp;&amp; bash ssr.sh 按照提示输入配置，enjoy it~ 支持 限制 用户速度 支持 限制 用户设备数 支持 限制 用户总流量 支持 定时 流量清零 支持 显示 当前连接IP 支持 显示 SS/SSR连接+二维码 支持 一键安装 锐速 支持 一键安装 BBR 支持 一键封禁 垃圾邮件(SMAP)/BT/PT 6.安装谷歌BBR防阻塞协议12以root身份运行wget --no-check-certificate https://github.com/teddysun/across/raw/master/bbr.sh &amp;&amp; chmod +x bbr.sh &amp;&amp; ./bbr.sh &emsp;&emsp;安装完成后，脚本会提示需要重启 VPS，输入 y 并回车后重启。重启完成后，进入 VPS，验证一下是否成功安装最新内核并开启 TCP BBR，输入以下命令：1uname -r 查看内核版本，显示为最新版就表示 OK 了 1sysctl net.ipv4.tcp_available_congestion_control 返回值一般为：net.ipv4.tcp_congestion_control = bbr1sysctl net.core.default_qdisc 返回值一般为：net.core.default_qdisc = fq1lsmod | grep bbr 返回值有 tcp_bbr 模块即说明 bbr 已启动。注意：并不是所有的 VPS 都会有此返回值，若没有也属正常.安装BBR原文地址 : 秋水逸冰一键安装bbr","categories":[{"name":"科学上网","slug":"科学上网","permalink":"https://mainguo.coding.me/blog/categories/科学上网/"}],"tags":[{"name":"vpn","slug":"vpn","permalink":"https://mainguo.coding.me/blog/tags/vpn/"},{"name":"ssr","slug":"ssr","permalink":"https://mainguo.coding.me/blog/tags/ssr/"},{"name":"vps","slug":"vps","permalink":"https://mainguo.coding.me/blog/tags/vps/"}]},{"title":"PHP转换gb2312编码xml为数组对象","slug":"PHP转换gb2312编码xml为数组对象","date":"2018-09-02T15:24:04.000Z","updated":"2018-09-02T15:36:06.490Z","comments":true,"path":"2018/09/02/PHP转换gb2312编码xml为数组对象/","link":"","permalink":"https://mainguo.coding.me/blog/2018/09/02/PHP转换gb2312编码xml为数组对象/","excerpt":"","text":"&emsp;&emsp;调用中间件接口的返回值是一个xml字符串，其中 charset=”GB2312”，但奇怪的是我使用 mb_detect_encoding() 函数来判断这个xml字符串，得到的结果却是 UTF-8。但由于 xml 中 charset 的值为 GB2312，所以导致了 simplexml_load_string() 函数无法成功解析这个xml字符串。 &emsp;&emsp;其实解决这个错误非常简单,使用 str_replace 函数将xml字符串中的编码格式替换为 UTF-8 后再使用json编码解码后就可以得到干净的数组元素。 1234$xml= str_replace(&apos;GB2312&apos;,&apos;UTF-8&apos;,$xml);$xml= simplexml_load_string($xml);$xml= json_encode($xml);//将对象转换个JSON$xml=json_decode($xml,JSON_UNESCAPED_UNICODE);//将json转换成数组","categories":[{"name":"后端","slug":"后端","permalink":"https://mainguo.coding.me/blog/categories/后端/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://mainguo.coding.me/blog/tags/PHP/"},{"name":"xml转array","slug":"xml转array","permalink":"https://mainguo.coding.me/blog/tags/xml转array/"}]},{"title":"I wanna change something...","slug":"I wanna change something...","date":"2018-09-02T14:49:05.000Z","updated":"2018-09-02T15:36:30.829Z","comments":true,"path":"2018/09/02/I wanna change something.../","link":"","permalink":"https://mainguo.coding.me/blog/2018/09/02/I wanna change something.../","excerpt":"","text":"&emsp;&emsp;正是大四开学初的时间，最近正在忙活着学校申请校外实习和专业实习的材料。我一向最烦这些七七八八的文档，以我们院校的效率怕是一个月都出不去的。由此也我明白我并不喜欢公务员那种一成不变的生活，既没有挑战，也没有激情… &emsp;&emsp;电话询问了附近的一家健身房，本想办张卡继续健身的。一听到1299的价格就望而生畏了，果断入手一辆自己的动感单车。真的200斤了QAQ &emsp;&emsp;刚刚回到金城湾那里，前些日子因为电费的问题想换个地方，在桥头附近租了一间1000的，总之折腾了几趟后还是回到了金城湾。我发现房子里的味道和采光还有装修真的特别重要，即使房间大一点，如果这些条件不能真的让你舒心的话，还是趁早搬了吧。","categories":[{"name":"日记","slug":"日记","permalink":"https://mainguo.coding.me/blog/categories/日记/"}],"tags":[{"name":"心绪","slug":"心绪","permalink":"https://mainguo.coding.me/blog/tags/心绪/"},{"name":"碎碎念","slug":"碎碎念","permalink":"https://mainguo.coding.me/blog/tags/碎碎念/"}]},{"title":"第一个php项目","slug":"忙","date":"2018-05-15T10:32:18.000Z","updated":"2018-09-02T15:36:15.701Z","comments":true,"path":"2018/05/15/忙/","link":"","permalink":"https://mainguo.coding.me/blog/2018/05/15/忙/","excerpt":"","text":"&emsp;&emsp;手上接了老师的一个使用ThinkCMF框架实现的创业项目。暂且就叫它跑趣吧，周六周日在工作室呆着做自己的事情，课程要求的作业与任务，最近在接触Git、Vue、Android的有关技术。坦言我并不是非常认真，在不断学习过程中我遇到的一些问题我都是选择性的学习，我不知道要学到什么程度为止。&emsp;&emsp;进来借着“忙”的接口，已经几个月没去健身了。这不是一个好习惯。&emsp;&emsp;今晚就去，7点。","categories":[{"name":"日记","slug":"日记","permalink":"https://mainguo.coding.me/blog/categories/日记/"}],"tags":[{"name":"碎碎念","slug":"碎碎念","permalink":"https://mainguo.coding.me/blog/tags/碎碎念/"}]}]}